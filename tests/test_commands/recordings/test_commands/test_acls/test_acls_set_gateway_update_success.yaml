interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/gateways
  response:
    body:
      string: '{"value": []}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '32'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Tue, 02 Sep 2025 17:46:50 GMT
      Pragma:
      - no-cache
      RequestId:
      - 4654c8f7-5f4a-45be-943c-a7a949e780cf
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/capacities
  response:
    body:
      string: '{"value": [{"id": "00000000-0000-0000-0000-000000000004", "displayName":
        "mocked_fabriccli_capacity_name", "sku": "F16", "region": "West Europe", "state":
        "Active"}]}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '456'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Tue, 02 Sep 2025 17:46:55 GMT
      Pragma:
      - no-cache
      RequestId:
      - eb07928d-faf1-4fad-8977-9a57d98766e8
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://management.azure.com/subscriptions?api-version=2022-12-01
  response:
    body:
      string: '{"value": [{"id": "/subscriptions/00000000-0000-0000-0000-000000000000"}],
        "count": {"type": "Total", "value": 1}}'
    headers:
      Cache-Control:
      - no-cache
      Content-Length:
      - '479'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Tue, 02 Sep 2025 17:46:55 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Cache:
      - CONFIG_NOCACHE
      X-Content-Type-Options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Network/virtualNetworks?api-version=2024-05-01
  response:
    body:
      string: '{"value": [{"name": "mocked_fabriccli_vnet_name", "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/mocked_fabriccli_resource_group/providers/Microsoft.Network/virtualNetworks/mocked_fabriccli_vnet_name",
        "properties": {"subnets": [{"name": "mocked_fabriccli_vnet_subnet", "id":
        "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/mocked_fabriccli_resource_group/providers/Microsoft.Network/virtualNetworks/mocked_fabriccli_vnet_name/subnets/mocked_fabriccli_vnet_subnet"}]}}]}'
    headers:
      Cache-Control:
      - no-cache
      Content-Length:
      - '3706'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Tue, 02 Sep 2025 17:46:56 GMT
      Expires:
      - '-1'
      Pragma:
      - no-cache
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Cache:
      - CONFIG_NOCACHE
      X-Content-Type-Options:
      - nosniff
    status:
      code: 200
      message: OK
- request:
    body: '{"displayName": "fabcli000001", "capacityId": "00000000-0000-0000-0000-000000000004",
      "inactivityMinutesBeforeSleep": 30, "numberOfMemberGateways": 1, "type": "VirtualNetwork",
      "virtualNetworkAzureResource": {"subscriptionId": "00000000-0000-0000-0000-000000000000",
      "resourceGroupName": "mocked_fabriccli_resource_group", "virtualNetworkName":
      "mocked_fabriccli_vnet_name", "subnetName": "mocked_fabriccli_vnet_subnet"}}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '377'
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: POST
    uri: https://api.fabric.microsoft.com/v1/gateways
  response:
    body:
      string: '{"displayName": "fabcli000001", "capacityId": "00000000-0000-0000-0000-000000000004",
        "virtualNetworkAzureResource": {"virtualNetworkName": "mocked_fabriccli_vnet_name",
        "subnetName": "mocked_fabriccli_vnet_subnet", "resourceGroupName": "mocked_fabriccli_resource_group",
        "subscriptionId": "00000000-0000-0000-0000-000000000000"}, "inactivityMinutesBeforeSleep":
        30, "numberOfMemberGateways": 1, "id": "51a9d59e-ab3c-4c5f-ade8-16a1bc18f52e",
        "type": "VirtualNetwork"}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId,Location
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '290'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Tue, 02 Sep 2025 17:47:06 GMT
      Location:
      - https://api.fabric.microsoft.com/v1/gateways/51a9d59e-ab3c-4c5f-ade8-16a1bc18f52e
      Pragma:
      - no-cache
      RequestId:
      - f28c5ebf-94b4-4ff6-8ea5-df8a9bfa00f2
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/gateways
  response:
    body:
      string: '{"value": [{"displayName": "fabcli000001", "capacityId": "00000000-0000-0000-0000-000000000004",
        "virtualNetworkAzureResource": {"virtualNetworkName": "mocked_fabriccli_vnet_name",
        "subnetName": "mocked_fabriccli_vnet_subnet", "resourceGroupName": "mocked_fabriccli_resource_group",
        "subscriptionId": "00000000-0000-0000-0000-000000000000"}, "inactivityMinutesBeforeSleep":
        30, "numberOfMemberGateways": 1, "id": "51a9d59e-ab3c-4c5f-ade8-16a1bc18f52e",
        "type": "VirtualNetwork"}]}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '300'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Tue, 02 Sep 2025 17:47:07 GMT
      Pragma:
      - no-cache
      RequestId:
      - e7958e58-1d85-4059-a164-c3ed836e1312
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/gateways/51a9d59e-ab3c-4c5f-ade8-16a1bc18f52e/roleAssignments
  response:
    body:
      string: '{"value": [{"id": "00000000-0000-0000-0000-000000000001", "principal":
        {"id": "00000000-0000-0000-0000-000000000001", "type": "User"}, "role": "Admin"}]}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '116'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Tue, 02 Sep 2025 17:47:07 GMT
      Pragma:
      - no-cache
      RequestId:
      - f44ef8ea-dc46-4362-ab79-1f5f81df362f
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: '{"principal": {"id": "00000000-0000-0000-0000-000000000002", "type": "User"},
      "role": "ConnectionCreator"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '106'
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: POST
    uri: https://api.fabric.microsoft.com/v1/gateways/51a9d59e-ab3c-4c5f-ade8-16a1bc18f52e/roleAssignments
  response:
    body:
      string: '{"id": "00000000-0000-0000-0000-000000000002", "principal": {"id":
        "00000000-0000-0000-0000-000000000002", "type": "User"}, "role": "ConnectionCreator"}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId,Location
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '114'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Tue, 02 Sep 2025 17:47:08 GMT
      Location:
      - https://api.fabric.microsoft.com/v1/gateways/51a9d59e-ab3c-4c5f-ade8-16a1bc18f52e/roleAssignments/00000000-0000-0000-0000-000000000002
      Pragma:
      - no-cache
      RequestId:
      - d509c19b-566a-4a2a-82f1-0b8c0a733954
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/gateways
  response:
    body:
      string: '{"value": [{"displayName": "fabcli000001", "capacityId": "00000000-0000-0000-0000-000000000004",
        "virtualNetworkAzureResource": {"virtualNetworkName": "mocked_fabriccli_vnet_name",
        "subnetName": "mocked_fabriccli_vnet_subnet", "resourceGroupName": "mocked_fabriccli_resource_group",
        "subscriptionId": "00000000-0000-0000-0000-000000000000"}, "inactivityMinutesBeforeSleep":
        30, "numberOfMemberGateways": 1, "id": "51a9d59e-ab3c-4c5f-ade8-16a1bc18f52e",
        "type": "VirtualNetwork"}]}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '300'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Tue, 02 Sep 2025 17:47:09 GMT
      Pragma:
      - no-cache
      RequestId:
      - 794e6a22-b580-435d-8350-868cc30b8d4c
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/gateways/51a9d59e-ab3c-4c5f-ade8-16a1bc18f52e/roleAssignments
  response:
    body:
      string: '{"value": [{"id": "00000000-0000-0000-0000-000000000001", "principal":
        {"id": "00000000-0000-0000-0000-000000000001", "type": "User"}, "role": "Admin"},
        {"id": "00000000-0000-0000-0000-000000000002", "principal": {"id": "00000000-0000-0000-0000-000000000002",
        "type": "User"}, "role": "ConnectionCreator"}]}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '166'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Tue, 02 Sep 2025 17:47:09 GMT
      Pragma:
      - no-cache
      RequestId:
      - 7020e21c-2d09-4a10-b221-e6ba3aa25fe2
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/gateways
  response:
    body:
      string: '{"value": [{"displayName": "fabcli000001", "capacityId": "00000000-0000-0000-0000-000000000004",
        "virtualNetworkAzureResource": {"virtualNetworkName": "mocked_fabriccli_vnet_name",
        "subnetName": "mocked_fabriccli_vnet_subnet", "resourceGroupName": "mocked_fabriccli_resource_group",
        "subscriptionId": "00000000-0000-0000-0000-000000000000"}, "inactivityMinutesBeforeSleep":
        30, "numberOfMemberGateways": 1, "id": "51a9d59e-ab3c-4c5f-ade8-16a1bc18f52e",
        "type": "VirtualNetwork"}]}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '300'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Tue, 02 Sep 2025 17:47:10 GMT
      Pragma:
      - no-cache
      RequestId:
      - 08dc1f6f-5225-4756-8a94-936b6ce745d9
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/gateways/51a9d59e-ab3c-4c5f-ade8-16a1bc18f52e/roleAssignments
  response:
    body:
      string: '{"value": [{"id": "00000000-0000-0000-0000-000000000001", "principal":
        {"id": "00000000-0000-0000-0000-000000000001", "type": "User"}, "role": "Admin"},
        {"id": "00000000-0000-0000-0000-000000000002", "principal": {"id": "00000000-0000-0000-0000-000000000002",
        "type": "User"}, "role": "ConnectionCreator"}]}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '166'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Tue, 02 Sep 2025 17:47:10 GMT
      Pragma:
      - no-cache
      RequestId:
      - 3d68f28b-dd92-4ec1-b7bd-f5f08f5bc5ee
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: '{"role": "Admin"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '17'
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: PATCH
    uri: https://api.fabric.microsoft.com/v1/gateways/51a9d59e-ab3c-4c5f-ade8-16a1bc18f52e/roleAssignments/00000000-0000-0000-0000-000000000002
  response:
    body:
      string: '{"id": "00000000-0000-0000-0000-000000000002", "principal": {"id":
        "00000000-0000-0000-0000-000000000002", "type": "User"}, "role": "Admin"}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '106'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Tue, 02 Sep 2025 17:47:11 GMT
      Pragma:
      - no-cache
      RequestId:
      - f1aa51aa-395d-4ad8-a961-260c07f9ffe9
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/gateways
  response:
    body:
      string: '{"value": [{"displayName": "fabcli000001", "capacityId": "00000000-0000-0000-0000-000000000004",
        "virtualNetworkAzureResource": {"virtualNetworkName": "mocked_fabriccli_vnet_name",
        "subnetName": "mocked_fabriccli_vnet_subnet", "resourceGroupName": "mocked_fabriccli_resource_group",
        "subscriptionId": "00000000-0000-0000-0000-000000000000"}, "inactivityMinutesBeforeSleep":
        30, "numberOfMemberGateways": 1, "id": "51a9d59e-ab3c-4c5f-ade8-16a1bc18f52e",
        "type": "VirtualNetwork"}]}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '300'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Tue, 02 Sep 2025 17:47:12 GMT
      Pragma:
      - no-cache
      RequestId:
      - 5f8f3c86-352b-4e14-ae01-381103840ae8
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/gateways/51a9d59e-ab3c-4c5f-ade8-16a1bc18f52e/roleAssignments
  response:
    body:
      string: '{"value": [{"id": "00000000-0000-0000-0000-000000000001", "principal":
        {"id": "00000000-0000-0000-0000-000000000001", "type": "User"}, "role": "Admin"},
        {"id": "00000000-0000-0000-0000-000000000002", "principal": {"id": "00000000-0000-0000-0000-000000000002",
        "type": "User"}, "role": "Admin"}]}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '152'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Tue, 02 Sep 2025 17:47:12 GMT
      Pragma:
      - no-cache
      RequestId:
      - f1f3c9a7-f727-4287-94ce-c302a63d0320
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/gateways
  response:
    body:
      string: '{"value": [{"displayName": "fabcli000001", "capacityId": "00000000-0000-0000-0000-000000000004",
        "virtualNetworkAzureResource": {"virtualNetworkName": "mocked_fabriccli_vnet_name",
        "subnetName": "mocked_fabriccli_vnet_subnet", "resourceGroupName": "mocked_fabriccli_resource_group",
        "subscriptionId": "00000000-0000-0000-0000-000000000000"}, "inactivityMinutesBeforeSleep":
        30, "numberOfMemberGateways": 1, "id": "51a9d59e-ab3c-4c5f-ade8-16a1bc18f52e",
        "type": "VirtualNetwork"}]}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '300'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Tue, 02 Sep 2025 17:47:13 GMT
      Pragma:
      - no-cache
      RequestId:
      - ee99afc9-67fd-475d-a9f4-8c2304b33b91
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/gateways/51a9d59e-ab3c-4c5f-ade8-16a1bc18f52e/roleAssignments
  response:
    body:
      string: '{"value": [{"id": "00000000-0000-0000-0000-000000000001", "principal":
        {"id": "00000000-0000-0000-0000-000000000001", "type": "User"}, "role": "Admin"},
        {"id": "00000000-0000-0000-0000-000000000002", "principal": {"id": "00000000-0000-0000-0000-000000000002",
        "type": "User"}, "role": "Admin"}]}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '152'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Tue, 02 Sep 2025 17:47:13 GMT
      Pragma:
      - no-cache
      RequestId:
      - 51544699-439e-48b1-aba0-b1f1cee90bfd
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: DELETE
    uri: https://api.fabric.microsoft.com/v1/gateways/51a9d59e-ab3c-4c5f-ade8-16a1bc18f52e/roleAssignments/00000000-0000-0000-0000-000000000002
  response:
    body:
      string: ''
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '0'
      Content-Type:
      - application/octet-stream
      Date:
      - Tue, 02 Sep 2025 17:47:13 GMT
      Pragma:
      - no-cache
      RequestId:
      - 124b0833-974a-41e2-bc4a-9565b97eebf3
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/gateways
  response:
    body:
      string: '{"value": [{"displayName": "fabcli000001", "capacityId": "00000000-0000-0000-0000-000000000004",
        "virtualNetworkAzureResource": {"virtualNetworkName": "mocked_fabriccli_vnet_name",
        "subnetName": "mocked_fabriccli_vnet_subnet", "resourceGroupName": "mocked_fabriccli_resource_group",
        "subscriptionId": "00000000-0000-0000-0000-000000000000"}, "inactivityMinutesBeforeSleep":
        30, "numberOfMemberGateways": 1, "id": "51a9d59e-ab3c-4c5f-ade8-16a1bc18f52e",
        "type": "VirtualNetwork"}]}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '300'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Tue, 02 Sep 2025 17:47:15 GMT
      Pragma:
      - no-cache
      RequestId:
      - b83b7fb3-53f5-43d4-871c-56dad55082a7
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: DELETE
    uri: https://api.fabric.microsoft.com/v1/gateways/51a9d59e-ab3c-4c5f-ade8-16a1bc18f52e
  response:
    body:
      string: ''
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '0'
      Content-Type:
      - application/octet-stream
      Date:
      - Tue, 02 Sep 2025 17:47:15 GMT
      Pragma:
      - no-cache
      RequestId:
      - 61962b0b-cd12-4cd7-9ebf-be066b8b5c2c
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
version: 1
