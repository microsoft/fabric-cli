interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/workspaces
  response:
    body:
      string: '{"value": [{"id": "94da8ea5-0bd6-4a9e-b717-5fdb482f4c71", "displayName":
        "My workspace", "description": "", "type": "Personal"}]}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '323'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 03 Sep 2025 08:29:05 GMT
      Pragma:
      - no-cache
      RequestId:
      - d57835ff-0b91-4409-97cf-0685cb29c4a7
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/workspaces
  response:
    body:
      string: '{"value": [{"id": "94da8ea5-0bd6-4a9e-b717-5fdb482f4c71", "displayName":
        "My workspace", "description": "", "type": "Personal"}]}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '323'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 03 Sep 2025 08:29:05 GMT
      Pragma:
      - no-cache
      RequestId:
      - ce24a861-264e-4fe6-af57-23aa853bd07b
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/capacities
  response:
    body:
      string: '{"value": [{"id": "00000000-0000-0000-0000-000000000004", "displayName":
        "mocked_fabriccli_capacity_name", "sku": "F16", "region": "West Europe", "state":
        "Active"}]}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '456'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 03 Sep 2025 08:29:12 GMT
      Pragma:
      - no-cache
      RequestId:
      - dc7148c3-6043-48a2-a135-19b8e964b829
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: '{"description": "Created by fab", "displayName": "fabcli000001", "capacityId":
      "00000000-0000-0000-0000-000000000004"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '122'
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: POST
    uri: https://api.fabric.microsoft.com/v1/workspaces
  response:
    body:
      string: '{"id": "e0f8eca7-f686-41e5-b2f6-553a22443b2c", "displayName": "fabcli000001",
        "description": "Created by fab", "type": "Workspace", "capacityId": "00000000-0000-0000-0000-000000000004"}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId,Location
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '165'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 03 Sep 2025 08:29:17 GMT
      Location:
      - https://api.fabric.microsoft.com/v1/workspaces/e0f8eca7-f686-41e5-b2f6-553a22443b2c
      Pragma:
      - no-cache
      RequestId:
      - 3655b11d-8abb-4b53-9f8d-ce5c140797f8
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/capacities
  response:
    body:
      string: '{"value": [{"id": "00000000-0000-0000-0000-000000000004", "displayName":
        "mocked_fabriccli_capacity_name", "sku": "F16", "region": "West Europe", "state":
        "Active"}]}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '456'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 03 Sep 2025 08:29:23 GMT
      Pragma:
      - no-cache
      RequestId:
      - f3b17636-b823-4afb-a453-d55c78de7f7d
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/workspaces
  response:
    body:
      string: '{"value": [{"id": "94da8ea5-0bd6-4a9e-b717-5fdb482f4c71", "displayName":
        "My workspace", "description": "", "type": "Personal"}, {"id": "e0f8eca7-f686-41e5-b2f6-553a22443b2c",
        "displayName": "fabcli000001", "description": "Created by fab", "type": "Workspace",
        "capacityId": "00000000-0000-0000-0000-000000000004"}]}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '364'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 03 Sep 2025 08:29:23 GMT
      Pragma:
      - no-cache
      RequestId:
      - 06de2d75-9e7b-40bb-b6e6-2fe67642723a
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/workspaces/e0f8eca7-f686-41e5-b2f6-553a22443b2c
  response:
    body:
      string: '{"id": "e0f8eca7-f686-41e5-b2f6-553a22443b2c", "displayName": "fabcli000001",
        "description": "Created by fab", "type": "Workspace", "capacityId": "00000000-0000-0000-0000-000000000004",
        "capacityRegion": "West Europe", "oneLakeEndpoints": {"blobEndpoint": "https://westeurope-onelake.blob.fabric.microsoft.com",
        "dfsEndpoint": "https://westeurope-onelake.dfs.fabric.microsoft.com"}, "capacityAssignmentProgress":
        "Completed"}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '278'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 03 Sep 2025 08:29:24 GMT
      Pragma:
      - no-cache
      RequestId:
      - ddbd03e3-30c1-40c9-ac38-339088ada69c
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: POST
    uri: https://api.fabric.microsoft.com/v1/workspaces/e0f8eca7-f686-41e5-b2f6-553a22443b2c/unassignFromCapacity
  response:
    body:
      string: ''
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '0'
      Content-Type:
      - application/octet-stream
      Date:
      - Wed, 03 Sep 2025 08:29:24 GMT
      Pragma:
      - no-cache
      RequestId:
      - eb7af56e-f22c-4d61-9567-2129811e673c
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 202
      message: Accepted
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/workspaces
  response:
    body:
      string: '{"value": [{"id": "94da8ea5-0bd6-4a9e-b717-5fdb482f4c71", "displayName":
        "My workspace", "description": "", "type": "Personal"}, {"id": "e0f8eca7-f686-41e5-b2f6-553a22443b2c",
        "displayName": "fabcli000001", "description": "Created by fab", "type": "Workspace"}]}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '365'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 03 Sep 2025 08:29:24 GMT
      Pragma:
      - no-cache
      RequestId:
      - c0bb6a05-dee3-43e7-bdac-9e2d5dcb3f6c
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/workspaces/e0f8eca7-f686-41e5-b2f6-553a22443b2c
  response:
    body:
      string: '{"id": "e0f8eca7-f686-41e5-b2f6-553a22443b2c", "displayName": "fabcli000001",
        "description": "Created by fab", "type": "Workspace", "capacityAssignmentProgress":
        "Completed"}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '159'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 03 Sep 2025 08:29:24 GMT
      Pragma:
      - no-cache
      RequestId:
      - a1417e9f-d296-49db-a938-a01c85f7d1b9
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/workspaces/e0f8eca7-f686-41e5-b2f6-553a22443b2c/managedPrivateEndpoints
  response:
    body:
      string: '{"requestId": "38826bae-dff8-4d5d-bf73-c68a46bc0629", "errorCode":
        "UnsupportedSku", "message": "Managed private endpoint is not supported for
        this capacity sku."}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 03 Sep 2025 08:29:24 GMT
      Pragma:
      - no-cache
      RequestId:
      - 38826bae-dff8-4d5d-bf73-c68a46bc0629
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      Transfer-Encoding:
      - chunked
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
      x-ms-public-api-error-code:
      - UnsupportedSku
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/workspaces/e0f8eca7-f686-41e5-b2f6-553a22443b2c/spark/settings
  response:
    body:
      string: '{"requestId": "14e70c4c-a1ec-4b1f-bc25-57b2c21e8635", "errorCode":
        "WorkspaceHasNoCapacityAssigned", "message": "A workspace with a capacity
        assigned is required for the operation"}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Content-Length:
      - '176'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 03 Sep 2025 08:29:25 GMT
      RequestId:
      - 14e70c4c-a1ec-4b1f-bc25-57b2c21e8635
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
      x-ms-public-api-error-code:
      - WorkspaceHasNoCapacityAssigned
    status:
      code: 400
      message: Bad Request
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/workspaces/e0f8eca7-f686-41e5-b2f6-553a22443b2c/roleAssignments
  response:
    body:
      string: '{"value": [{"id": "00000000-0000-0000-0000-000000000001", "principal":
        {"id": "00000000-0000-0000-0000-000000000001", "displayName": "Tenant Admin",
        "type": "User", "userDetails": {"userPrincipalName": "mocked@admin_test_user"}},
        "role": "Admin"}]}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '180'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 03 Sep 2025 08:29:24 GMT
      Pragma:
      - no-cache
      RequestId:
      - 0e05e16d-4f6e-4fb9-bae7-d42d92e8c0f6
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/workspaces
  response:
    body:
      string: '{"value": [{"id": "94da8ea5-0bd6-4a9e-b717-5fdb482f4c71", "displayName":
        "My workspace", "description": "", "type": "Personal"}, {"id": "e0f8eca7-f686-41e5-b2f6-553a22443b2c",
        "displayName": "fabcli000001", "description": "Created by fab", "type": "Workspace"}]}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '365'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 03 Sep 2025 08:29:25 GMT
      Pragma:
      - no-cache
      RequestId:
      - 3213be65-107d-41bd-93d2-9cc7b1550c12
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/workspaces/e0f8eca7-f686-41e5-b2f6-553a22443b2c/items
  response:
    body:
      string: '{"value": []}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '32'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 03 Sep 2025 08:29:25 GMT
      Pragma:
      - no-cache
      RequestId:
      - 17bf6490-03b6-4183-98ba-857969b1b950
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: DELETE
    uri: https://api.fabric.microsoft.com/v1/workspaces/e0f8eca7-f686-41e5-b2f6-553a22443b2c
  response:
    body:
      string: ''
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '0'
      Content-Type:
      - application/octet-stream
      Date:
      - Wed, 03 Sep 2025 08:29:25 GMT
      Pragma:
      - no-cache
      RequestId:
      - b2b4c5aa-b529-4b5e-8f34-e8ea1ff80148
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
version: 1
