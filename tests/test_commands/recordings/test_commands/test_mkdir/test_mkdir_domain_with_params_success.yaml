interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/admin/domains
  response:
    body:
      string: '{"domains": []}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '825'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 03 Sep 2025 06:42:04 GMT
      Pragma:
      - no-cache
      RequestId:
      - 054b0920-aee3-4bc6-936b-5d2685623ae8
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: '{"displayName": "fabcli000001"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '35'
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: POST
    uri: https://api.fabric.microsoft.com/v1/admin/domains
  response:
    body:
      string: '{"contributorsScope": "AllTenant", "id": "a2d508d9-5c18-4fb0-95a4-41aee45f9d2e",
        "displayName": "fabcli000001", "description": ""}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId,Location
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '132'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 03 Sep 2025 06:42:04 GMT
      Location:
      - https://api.fabric.microsoft.com/v1/admin/domains/a2d508d9-5c18-4fb0-95a4-41aee45f9d2e
      Pragma:
      - no-cache
      RequestId:
      - 5eecfb71-db2d-4b55-ba67-8a19ec1fc4a8
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/admin/domains
  response:
    body:
      string: '{"domains": [{"contributorsScope": "AllTenant", "id": "a2d508d9-5c18-4fb0-95a4-41aee45f9d2e",
        "displayName": "fabcli000001", "description": ""}]}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '859'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 03 Sep 2025 06:42:04 GMT
      Pragma:
      - no-cache
      RequestId:
      - 92ae38bd-5397-4ac8-8176-730b310c1b80
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/admin/domains/a2d508d9-5c18-4fb0-95a4-41aee45f9d2e
  response:
    body:
      string: '{"contributorsScope": "AllTenant", "id": "a2d508d9-5c18-4fb0-95a4-41aee45f9d2e",
        "displayName": "fabcli000001", "description": ""}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '132'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 03 Sep 2025 06:42:04 GMT
      Pragma:
      - no-cache
      RequestId:
      - 9f5d2cda-ac7f-4690-822b-921759f7a74d
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/admin/domains/a2d508d9-5c18-4fb0-95a4-41aee45f9d2e/workspaces
  response:
    body:
      string: '{"value": []}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '32'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 03 Sep 2025 06:42:05 GMT
      Pragma:
      - no-cache
      RequestId:
      - 9f470b03-4b76-4c55-a6a8-817fe420cf7c
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/admin/domains
  response:
    body:
      string: '{"domains": [{"contributorsScope": "AllTenant", "id": "a2d508d9-5c18-4fb0-95a4-41aee45f9d2e",
        "displayName": "fabcli000001", "description": ""}]}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '859'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 03 Sep 2025 06:42:04 GMT
      Pragma:
      - no-cache
      RequestId:
      - 3e815cb9-245a-4ca3-ae16-e17c1d07e709
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/admin/domains
  response:
    body:
      string: '{"domains": [{"contributorsScope": "AllTenant", "id": "a2d508d9-5c18-4fb0-95a4-41aee45f9d2e",
        "displayName": "fabcli000001", "description": ""}]}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '859'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 03 Sep 2025 06:42:05 GMT
      Pragma:
      - no-cache
      RequestId:
      - 5351b957-42d4-465d-ba6d-47070c4886e6
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: '{"displayName": "fabcli000002", "description": "test child domain", "parentDomainId":
      "a2d508d9-5c18-4fb0-95a4-41aee45f9d2e"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '129'
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: POST
    uri: https://api.fabric.microsoft.com/v1/admin/domains
  response:
    body:
      string: '{"contributorsScope": "AllTenant", "id": "19b05223-9084-4c6c-948e-275bfa66ee7f",
        "displayName": "fabcli000002", "description": "test child domain", "parentDomainId":
        "a2d508d9-5c18-4fb0-95a4-41aee45f9d2e"}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId,Location
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '182'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 03 Sep 2025 06:42:05 GMT
      Location:
      - https://api.fabric.microsoft.com/v1/admin/domains/19b05223-9084-4c6c-948e-275bfa66ee7f
      Pragma:
      - no-cache
      RequestId:
      - 674fa900-34de-4463-8bfb-fbf8a077170a
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 201
      message: Created
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/admin/domains
  response:
    body:
      string: '{"domains": [{"contributorsScope": "AllTenant", "id": "a2d508d9-5c18-4fb0-95a4-41aee45f9d2e",
        "displayName": "fabcli000001", "description": ""}, {"contributorsScope": "AllTenant",
        "id": "19b05223-9084-4c6c-948e-275bfa66ee7f", "displayName": "fabcli000002",
        "description": "test child domain", "parentDomainId": "a2d508d9-5c18-4fb0-95a4-41aee45f9d2e"}]}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '899'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 03 Sep 2025 06:42:05 GMT
      Pragma:
      - no-cache
      RequestId:
      - 47232b49-84bc-431b-b88f-c31565cde196
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/admin/domains/19b05223-9084-4c6c-948e-275bfa66ee7f
  response:
    body:
      string: '{"contributorsScope": "AllTenant", "id": "19b05223-9084-4c6c-948e-275bfa66ee7f",
        "displayName": "fabcli000002", "description": "test child domain", "parentDomainId":
        "a2d508d9-5c18-4fb0-95a4-41aee45f9d2e"}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '182'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 03 Sep 2025 06:42:05 GMT
      Pragma:
      - no-cache
      RequestId:
      - 4eae697e-0043-4874-9f6f-08ab6e4232e1
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/admin/domains/19b05223-9084-4c6c-948e-275bfa66ee7f/workspaces
  response:
    body:
      string: '{"value": []}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '32'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 03 Sep 2025 06:42:06 GMT
      Pragma:
      - no-cache
      RequestId:
      - 1f25988a-198c-4682-b8f5-1cefb5773e30
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/admin/domains
  response:
    body:
      string: '{"domains": [{"contributorsScope": "AllTenant", "id": "a2d508d9-5c18-4fb0-95a4-41aee45f9d2e",
        "displayName": "fabcli000001", "description": ""}, {"contributorsScope": "AllTenant",
        "id": "19b05223-9084-4c6c-948e-275bfa66ee7f", "displayName": "fabcli000002",
        "description": "test child domain", "parentDomainId": "a2d508d9-5c18-4fb0-95a4-41aee45f9d2e"}]}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '899'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 03 Sep 2025 06:42:06 GMT
      Pragma:
      - no-cache
      RequestId:
      - 23ad37f1-eda0-46d5-b2e3-22cc44103de1
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: DELETE
    uri: https://api.fabric.microsoft.com/v1/admin/domains/19b05223-9084-4c6c-948e-275bfa66ee7f
  response:
    body:
      string: ''
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '0'
      Content-Type:
      - application/octet-stream
      Date:
      - Wed, 03 Sep 2025 06:42:06 GMT
      Pragma:
      - no-cache
      RequestId:
      - 072f19d8-21ff-49eb-a800-56cbfc38ae85
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: GET
    uri: https://api.fabric.microsoft.com/v1/admin/domains
  response:
    body:
      string: '{"domains": [{"contributorsScope": "AllTenant", "id": "a2d508d9-5c18-4fb0-95a4-41aee45f9d2e",
        "displayName": "fabcli000001", "description": ""}]}'
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '859'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Wed, 03 Sep 2025 06:42:06 GMT
      Pragma:
      - no-cache
      RequestId:
      - 39e01427-1c19-4551-828d-c1e1bd7cf461
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '0'
      Content-Type:
      - application/json
      User-Agent:
      - ms-fabric-cli-test/1.0.0
    method: DELETE
    uri: https://api.fabric.microsoft.com/v1/admin/domains/a2d508d9-5c18-4fb0-95a4-41aee45f9d2e
  response:
    body:
      string: ''
    headers:
      Access-Control-Expose-Headers:
      - RequestId
      Cache-Control:
      - no-store, must-revalidate, no-cache
      Content-Encoding:
      - gzip
      Content-Length:
      - '0'
      Content-Type:
      - application/octet-stream
      Date:
      - Wed, 03 Sep 2025 06:42:06 GMT
      Pragma:
      - no-cache
      RequestId:
      - 64210df4-1a97-4b19-8878-df79912b1b43
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - deny
      home-cluster-uri:
      - https://wabi-west-europe-redirect.analysis.windows.net/
      request-redirected:
      - 'true'
    status:
      code: 200
      message: OK
version: 1
